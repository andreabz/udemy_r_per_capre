---
title: "R per capre - dal foglio di calcolo al report automatico"
subtitle: "Materiale di supporto per l'episodio 14 - i grafici di `ggplot2`"
lang: it
format:
  pdf:
    documentclass: article
    papersize: a4
    margin-left: 2.5cm
    margin-right: 2.5cm
    margin-top: 3cm
    margin-bottom: 3cm
    fontsize: 11pt
    mainfont: Inter
    monofont: JetBrains Mono
    linkcolor: teal
    urlcolor: teal
    toc: false
---

::: {.small}
Repository del corso: <https://github.com/andreabz/udemy_r_per_capre>
:::

## Obiettivo dell'episodio

Trasformare i **riassunti numerici** in **grafici** con il pacchetto `ggplot2`.

Non impariamo `ggplot2` in profondità.  
Non esploriamo tutti i tipi di grafico.  
Non cerchiamo l'estetica perfetta.

L'obiettivo è costruire **grafici utili al report**.

---

## Da tabella a grafico

I grafici partono da tabelle già riassunte, come quelle create nell'episodio precedente.

- il grafico **non calcola nulla**  
- il grafico **mostra risultati già calcolati**

---

## Grafico del numero di campioni

Obiettivo: mostrare l'andamento mensile del carico di lavoro.

- asse x: mese  
- asse y: numero di campioni  

Esempio concettuale:

```{r}
#| eval: false

# ricorda di installare ggplot2 con install.packages("ggplot2")
# poi caricalo aggiungendo library(ggplot2)

ggplot(riassunto,
    aes(x = mese_inizio_analisi,
        y = campioni)) +
    geom_point() +
    labs(x = "Mese di inizio analisi",
         y = "Numero di campioni analizzati") +
    theme_minimal()
```

- `ggplot()` specifica il dataset
- `aes()` definisce gli assi
- `geom_*()` definisce il tipo di grafico (punti, linee, barre…)
- `labs()` modifica etichette e descrizioni
- `theme_minimal()` migliora leggibilità e pulizia

Si può salvare il grafico in una variabile con `nome_variabile <- ggplot(...)` per riutilizzarlo.

## Per approfondire

- `browseVignettes("ggplot2")` nella console: inizia da *Introduction to `ggplot2`*
- stampa <https://rstudio.github.io/cheatsheets/data-visualization.pdf> per dare una rapida occhiata alla sintassi di `ggplot2`
- prendi ispirazione da <https://r-graph-gallery.com/ggplot2-package.html>

## Punto chiave

`ggplot2` permette di creare grafici per strati a partire da dati già riassunti.
I grafici possono essere assegnati a variabili per richiamarli e combinarli.

## In sintesi

- i grafici partono da dati già riassunti
- devono rispondere a domande precise del report
- `ggplot2` crea grafici a strati
- procedura: dataset → assi → tipo di grafico → eventuali ritocchi

Con questo episodio otteniamo:

- un grafico del numero di campioni mensili
- la possibilità di mostrare tempi di analisi tipici per ogni mese

